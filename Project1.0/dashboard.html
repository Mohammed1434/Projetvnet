<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ProjetVNET - Dashboard</title>
  <link rel="stylesheet" href="theme.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg-dark);
      color: var(--text-light);
      margin: 0;
      min-height: 100vh;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
    }

    /* Code Rain Animation */
    .code-rain {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      overflow: hidden;
    }

    .code-drop {
      position: absolute;
      color: var(--accent-green);
      font-family: 'Courier New', monospace;
      font-size: 16px;
      font-weight: bold;
      opacity: 0.9;
      animation: fall linear infinite;
      text-shadow: 0 0 10px var(--accent-green);
      z-index: 1;
    }

    .code-drop:nth-child(odd) {
      color: var(--accent-gold);
      text-shadow: 0 0 10px var(--accent-gold);
    }

    .code-drop:nth-child(3n) {
      color: #00ff88;
      text-shadow: 0 0 15px #00ff88;
    }

    .code-drop:nth-child(5n) {
      color: #ff6b6b;
      text-shadow: 0 0 12px #ff6b6b;
    }

    @keyframes fall {
      0% {
        transform: translateY(-100vh) rotate(0deg) scale(0.5);
        opacity: 0;
      }
      10% {
        opacity: 1;
        transform: translateY(-90vh) rotate(36deg) scale(1);
      }
      90% {
        opacity: 0.8;
        transform: translateY(90vh) rotate(324deg) scale(1);
      }
      100% {
        transform: translateY(100vh) rotate(360deg) scale(0.5);
        opacity: 0;
      }
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }

    .code-drop.twinkle {
      animation: fall linear infinite, twinkle 2s ease-in-out infinite;
    }

    /* Matrix-style background */
    .matrix-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(30, 255, 0, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(247, 221, 173, 0.1) 0%, transparent 50%),
        linear-gradient(135deg, #0d1117 0%, #1a1a1a 50%, #2a2a2a 100%);
      animation: matrixPulse 8s ease-in-out infinite;
      z-index: 0;
    }

    @keyframes matrixPulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.6; }
    }

    .navbar {
      background: rgba(18, 18, 18, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border-light);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
    }

    .logo {
      color: var(--text-light);
      font-size: 1.8em;
      font-weight: 700;
      text-decoration: none;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .logo:hover {
      color: var(--accent-green);
      transform: scale(1.05);
    }

    .logo-projet {
      color: var(--text-light);
    }

    .logo-vnet {
      color: var(--accent-gold);
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .back-btn {
      background: rgba(30, 255, 0, 0.1);
      border: 1px solid var(--accent-green);
      color: var(--accent-green);
      font-size: 1.2em;
      cursor: pointer;
      padding: 10px;
      border-radius: 50%;
      transition: all 0.3s ease;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .back-btn:hover {
      background: var(--accent-green);
      color: var(--bg-dark);
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(30, 255, 0, 0.4);
    }

    .notification-bell {
      position: relative;
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1.5em;
      cursor: pointer;
      padding: 10px;
      border-radius: 50%;
      transition: all 0.3s ease;
    }

    .notification-bell:hover {
      color: var(--accent-green);
      background: rgba(30, 255, 0, 0.1);
      transform: scale(1.1);
    }

    .notification-badge {
      position: absolute;
      top: 5px;
      right: 5px;
      background: linear-gradient(45deg, #ff4757, #ff6b7a);
      color: white;
      font-size: 0.7em;
      font-weight: bold;
      padding: 2px 6px;
      border-radius: 10px;
      min-width: 18px;
      text-align: center;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .profile-picture {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(45deg, var(--accent-green), var(--accent-gold));
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--bg-dark);
      font-weight: bold;
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .profile-picture:hover {
      transform: scale(1.1);
      border-color: var(--accent-green);
      box-shadow: 0 0 20px rgba(30, 255, 0, 0.4);
    }

    .dashboard-container {
      max-width: 1000px;
      width: 100%;
      background: rgba(42, 42, 42, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border-light);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 0 30px rgba(30, 255, 0, 0.2);
      animation: fadeIn 1s ease-in-out;
      position: relative;
      overflow: hidden;
      margin: 80px auto 0;
      z-index: 10;
    }

    .dashboard-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 20% 80%, rgba(30, 255, 0, 0.1) 0%, transparent 50%),
                  radial-gradient(circle at 80% 20%, rgba(247, 221, 173, 0.1) 0%, transparent 50%);
      animation: backgroundPulse 8s ease-in-out infinite;
    }

    @keyframes backgroundPulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.6; }
    }

    .dashboard-header {
      text-align: center;
      margin-bottom: 40px;
      position: relative;
      z-index: 2;
    }

    .logout-btn {
      position: absolute;
      top: 0;
      right: 0;
      background: linear-gradient(45deg, #ff4757, #ff6b7a);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 25px;
      cursor: pointer;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3);
    }

    .logout-btn:hover {
      background: linear-gradient(45deg, #ff6b7a, #ff4757);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 71, 87, 0.4);
    }

    .welcome-section {
      margin-bottom: 40px;
    }

    .welcome-title {
      color: var(--text-light);
      font-size: 2.5em;
      font-weight: 700;
      margin-bottom: 15px;
      background: linear-gradient(45deg, var(--accent-green), var(--accent-gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: slideIn 1s ease-in-out;
    }

    .welcome-subtitle {
      color: var(--text-muted);
      font-size: 1.2em;
      font-weight: 400;
      margin-bottom: 20px;
      animation: slideIn 1.2s ease-in-out;
    }

    .courses-section {
      position: relative;
      z-index: 2;
    }

    .courses-title {
      color: var(--accent-gold);
      font-size: 1.8em;
      font-weight: 600;
      margin-bottom: 30px;
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 2px;
      position: relative;
    }

    .courses-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: linear-gradient(45deg, var(--accent-green), var(--accent-gold));
      border-radius: 2px;
    }

    .courses-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .course-card {
      background: rgba(42, 42, 42, 0.8);
      border: 1px solid var(--border-light);
      border-radius: 15px;
      padding: 25px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
      animation: fadeUp 1.5s ease-in-out;
    }

    .course-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(30, 255, 0, 0.1), transparent);
      transition: left 0.6s;
    }

    .course-card:hover::before {
      left: 100%;
    }

    .course-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 15px 35px rgba(30, 255, 0, 0.3);
      border-color: var(--accent-green);
    }

    .course-level {
      color: var(--accent-green);
      font-size: 0.9em;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 10px;
    }

    .course-name {
      color: var(--text-light);
      font-size: 1.3em;
      font-weight: 600;
      margin-bottom: 15px;
    }

    .course-description {
      color: var(--text-muted);
      font-size: 0.95em;
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .course-btn {
      background: linear-gradient(45deg, var(--accent-green), var(--accent-green-alt));
      color: var(--bg-dark);
      text-decoration: none;
      font-size: 0.9em;
      font-weight: 600;
      padding: 10px 20px;
      border-radius: 25px;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      display: inline-block;
      box-shadow: 0 4px 15px rgba(30, 255, 0, 0.3);
    }

    .course-btn:hover {
      background: linear-gradient(45deg, var(--accent-green-alt), var(--accent-green));
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(30, 255, 0, 0.4);
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideInRight {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes slideOutRight {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .dashboard-container {
        padding: 30px 20px;
        margin: 10px;
      }
      
      .welcome-title {
        font-size: 2em;
      }
      
      .welcome-subtitle {
        font-size: 1.1em;
      }
      
      .courses-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .course-card {
        padding: 20px;
      }
    }

    @media (max-width: 480px) {
      .dashboard-container {
        padding: 20px 15px;
      }
      
      .welcome-title {
        font-size: 1.8em;
      }
      
      .welcome-subtitle {
        font-size: 1em;
      }
      
      .courses-title {
        font-size: 1.5em;
      }
    }
  </style>
</head>
<body>
  <!-- Matrix Background -->
  <div class="matrix-bg"></div>
  
  <!-- Code Rain Animation -->
  <div class="code-rain" id="codeRain"></div>

  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="logo" onclick="showLogoutMessage()">
      <span class="logo-projet">PROJET</span><span class="logo-vnet">VNET</span>
    </div>
    
    <div class="nav-right">
      <button class="back-btn" onclick="goBack()" title="Go Back">
        <i class="fas fa-arrow-left"></i>
      </button>
      
      <button class="notification-bell" onclick="toggleNotifications()">
        <i class="fas fa-bell"></i>
        <span class="notification-badge" id="notificationCount">3</span>
      </button>
      
      <div class="profile-picture" onclick="goToProfile()" id="profilePicture">
        U
      </div>
    </div>
  </nav>

  <div class="dashboard-container">
    <div class="dashboard-header">
      <div class="welcome-section">
        <h1 class="welcome-title" id="greeting"></h1>
        <p class="welcome-subtitle" id="timeMessage"></p>
      </div>
    </div>

    <div class="courses-section">
      <h2 class="courses-title">Available Courses</h2>
      
      <div class="courses-grid">
        <div class="course-card" onclick="openCourse('html')">
          <div class="course-level">Beginner</div>
          <div class="course-name">HTML & CSS</div>
          <div class="course-description">Learn the fundamentals of web development with HTML structure and CSS styling. Perfect for beginners starting their coding journey.</div>
          <a href="course.html" class="course-btn">Start Learning</a>
        </div>
        
        <div class="course-card" onclick="openCourse('javascript')">
          <div class="course-level">Intermediate</div>
          <div class="course-name">JavaScript & React</div>
          <div class="course-description">Master JavaScript programming and build dynamic web applications with React framework. Take your skills to the next level.</div>
          <a href="course.html" class="course-btn">Start Learning</a>
        </div>
        
        <div class="course-card" onclick="openCourse('game')">
          <div class="course-level">Advanced</div>
          <div class="course-name">Game Dev: Unity & C#</div>
          <div class="course-description">Create amazing games using Unity engine and C# programming. Learn game development from concept to deployment.</div>
          <a href="course.html" class="course-btn">Start Learning</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Check if user is logged in
    let isLoggedIn = localStorage.getItem("isLoggedIn");
    if (!isLoggedIn) {
      // Redirect to login page if not logged in
      window.location.href = "login.html";
    }

    // Simulate login/signup check
    // Use "signup" or "login" to test
    let userAction = localStorage.getItem("action") || "login"; 
    let userEmail = localStorage.getItem("userEmail");
    let userIdentifier = localStorage.getItem("userIdentifier");
    let username = userEmail || userIdentifier || "Guest";

    let greeting = document.getElementById("greeting");
    let timeMessage = document.getElementById("timeMessage");

    if (userAction === "signup") {
      greeting.textContent = "Welcome, " + username + "! Let’s get started 🚀";
    } else {
      greeting.textContent = "Welcome back, " + username + "!";
    }

    // Time-based greeting
    let hours = new Date().getHours();
    if (hours < 12) {
      timeMessage.textContent = "Good Morning 🌅";
    } else if (hours < 18) {
      timeMessage.textContent = "Good Afternoon ☀️";
    } else {
      timeMessage.textContent = "Good Evening 🌙";
    }

    // Update profile picture with user initial
    function updateProfilePicture() {
      let userEmail = localStorage.getItem("userEmail");
      let userIdentifier = localStorage.getItem("userIdentifier");
      let username = userEmail || userIdentifier || "Guest";
      
      // Get first letter of username/email
      let initial = username.charAt(0).toUpperCase();
      document.getElementById("profilePicture").textContent = initial;
    }

    // Go to profile page
    function goToProfile() {
      window.location.href = "profile.html";
    }

    // Toggle notifications (placeholder function)
    function toggleNotifications() {
      // This would show a notification dropdown in a real app
      alert("Notifications feature coming soon!");
    }

    // Initialize profile picture
    updateProfilePicture();

    // Enhanced Code Rain Animation
    function createCodeRain() {
      const codeRain = document.getElementById('codeRain');
      const characters = ['0', '1', '{}', '[]', '()', ';', '=', '!', '&', '|', '<', '>', '/', '\\', '*', '+', '-', '%', 'function', 'const', 'let', 'var', 'if', 'else', 'for', 'while', 'return', 'class', 'import', 'export'];
      
      function createDrop() {
        const drop = document.createElement('div');
        drop.className = 'code-drop';
        
        // Randomly add twinkle effect
        if (Math.random() < 0.3) {
          drop.classList.add('twinkle');
        }
        
        drop.textContent = characters[Math.floor(Math.random() * characters.length)];
        drop.style.left = Math.random() * 100 + '%';
        drop.style.animationDuration = (Math.random() * 4 + 3) + 's';
        drop.style.animationDelay = Math.random() * 1 + 's';
        drop.style.fontSize = (Math.random() * 8 + 12) + 'px';
        
        codeRain.appendChild(drop);
        
        // Remove drop after animation
        setTimeout(() => {
          if (drop.parentNode) {
            drop.parentNode.removeChild(drop);
          }
        }, 7000);
      }
      
      // Create drops more frequently for livelier effect
      setInterval(createDrop, 150);
      
      // Create initial burst of drops
      for (let i = 0; i < 20; i++) {
        setTimeout(createDrop, i * 100);
      }
    }

    // Background Music
    function playBackgroundMusic() {
      // Create audio element for lofi music
      const audio = new Audio();
      audio.loop = true;
      audio.volume = 0.3;
      
      // You can replace this with actual lofi music URL
      // For now, we'll create a simple tone generator
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      
      function createLofiTone() {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.setValueAtTime(220, audioContext.currentTime);
        oscillator.type = 'sine';
        
        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 2);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 2);
      }
      
      // Play lofi tones periodically
      setInterval(createLofiTone, 3000);
    }

    // Logo click handler - show subtle message
    function showLogoutMessage() {
      // Create a subtle notification instead of alert
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 80px;
        right: 20px;
        background: rgba(255, 71, 87, 0.9);
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        z-index: 10000;
        font-size: 14px;
        box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3);
        animation: slideInRight 0.3s ease;
      `;
      notification.textContent = 'Please logout to access landing page';
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOutRight 0.3s ease';
        setTimeout(() => notification.remove(), 300);
      }, 3000);
    }

    // Back button function
    function goBack() {
      window.history.back();
    }

    // Open course page with specific course
    function openCourse(courseType) {
      // Store course type for the course page
      localStorage.setItem('selectedCourse', courseType);
      window.location.href = 'course.html';
    }

    // Initialize animations and music
    createCodeRain();
    playBackgroundMusic();
  </script>
</body>
</html>
