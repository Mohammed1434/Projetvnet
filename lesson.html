<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lesson - ProjetVNET</title>
  <link rel="stylesheet" href="theme.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg-dark);
      color: var(--text-light);
      margin: 0;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    /* Code Rain Animation */
    .code-rain {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      overflow: hidden;
    }

    .code-drop {
      position: absolute;
      color: var(--accent-green);
      font-family: 'Courier New', monospace;
      font-size: 16px;
      font-weight: bold;
      opacity: 0.9;
      animation: fall linear infinite;
      text-shadow: 0 0 10px var(--accent-green);
      z-index: 1;
    }

    .code-drop:nth-child(odd) {
      color: var(--accent-gold);
      text-shadow: 0 0 10px var(--accent-gold);
    }

    .code-drop:nth-child(3n) {
      color: #00ff88;
      text-shadow: 0 0 15px #00ff88;
    }

    .code-drop:nth-child(5n) {
      color: #ff6b6b;
      text-shadow: 0 0 12px #ff6b6b;
    }

    @keyframes fall {
      0% {
        transform: translateY(-100vh) rotate(0deg) scale(0.5);
        opacity: 0;
      }
      10% {
        opacity: 1;
        transform: translateY(-90vh) rotate(36deg) scale(1);
      }
      90% {
        opacity: 0.8;
        transform: translateY(90vh) rotate(324deg) scale(1);
      }
      100% {
        transform: translateY(100vh) rotate(360deg) scale(0.5);
        opacity: 0;
      }
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }

    .code-drop.twinkle {
      animation: fall linear infinite, twinkle 2s ease-in-out infinite;
    }

    /* Matrix-style background */
    .matrix-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(30, 255, 0, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(247, 221, 173, 0.1) 0%, transparent 50%),
        linear-gradient(135deg, #0d1117 0%, #1a1a1a 50%, #2a2a2a 100%);
      animation: matrixPulse 8s ease-in-out infinite;
      z-index: 0;
    }

    @keyframes matrixPulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.6; }
    }

    .navbar {
      background: rgba(18, 18, 18, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border-light);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
    }

    .logo {
      color: var(--text-light);
      font-size: 1.8em;
      font-weight: 700;
      text-decoration: none;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .logo:hover {
      color: var(--accent-green);
      transform: scale(1.05);
    }

    .logo-projet {
      color: var(--text-light);
    }

    .logo-vnet {
      color: var(--accent-gold);
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .profile-picture {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(45deg, var(--accent-green), var(--accent-gold));
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--bg-dark);
      font-weight: 700;
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid var(--accent-green);
      box-shadow: 0 0 15px rgba(30, 255, 0, 0.3);
    }

    .profile-picture:hover {
      transform: scale(1.1);
      box-shadow: 0 0 25px rgba(30, 255, 0, 0.5);
    }

    .back-btn {
      background: rgba(30, 255, 0, 0.1);
      border: 1px solid var(--accent-green);
      color: var(--accent-green);
      font-size: 1.2em;
      cursor: pointer;
      padding: 10px;
      border-radius: 50%;
      transition: all 0.3s ease;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .back-btn:hover {
      background: var(--accent-green);
      color: var(--bg-dark);
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(30, 255, 0, 0.4);
    }

    .lesson-container {
      max-width: 1000px;
      width: 100%;
      margin: 100px auto 0;
      padding: 20px;
      position: relative;
      z-index: 10;
    }

    .lesson-header {
      text-align: center;
      margin-bottom: 40px;
      background: rgba(42, 42, 42, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border-light);
      border-radius: 25px;
      padding: 40px;
      box-shadow: 0 0 30px rgba(30, 255, 0, 0.2);
    }

    .lesson-title {
      color: var(--text-light);
      font-size: 2.5em;
      font-weight: 700;
      margin-bottom: 15px;
      background: linear-gradient(45deg, var(--accent-green), var(--accent-gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: slideIn 1s ease-in-out;
    }

    .lesson-meta {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .lesson-info {
      color: var(--text-muted);
      font-size: 1.1em;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .lesson-content {
      background: rgba(42, 42, 42, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border-light);
      border-radius: 25px;
      padding: 40px;
      margin-bottom: 30px;
      box-shadow: 0 0 30px rgba(30, 255, 0, 0.1);
      line-height: 1.8;
      font-size: 1.1em;
    }

    .lesson-content h2 {
      color: var(--accent-green);
      font-size: 1.8em;
      margin-bottom: 20px;
      margin-top: 30px;
    }

    .lesson-content h2:first-child {
      margin-top: 0;
    }

    .lesson-content h3 {
      color: var(--accent-gold);
      font-size: 1.4em;
      margin-bottom: 15px;
      margin-top: 25px;
    }

    .lesson-content p {
      margin-bottom: 20px;
      color: var(--text-light);
    }

    .lesson-content ul, .lesson-content ol {
      margin-bottom: 20px;
      padding-left: 30px;
    }

    .lesson-content li {
      margin-bottom: 10px;
      color: var(--text-light);
    }

    .lesson-content code {
      background: rgba(30, 255, 0, 0.1);
      color: var(--accent-green);
      padding: 2px 8px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
    }

    .lesson-content pre {
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid var(--border-light);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
      overflow-x: auto;
    }

    .lesson-content pre code {
      background: none;
      color: var(--text-light);
      padding: 0;
    }

    .lesson-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(42, 42, 42, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border-light);
      border-radius: 25px;
      padding: 20px 30px;
      box-shadow: 0 0 30px rgba(30, 255, 0, 0.1);
    }

    .nav-btn {
      background: linear-gradient(45deg, var(--accent-green), var(--accent-green-alt));
      color: var(--bg-dark);
      border: none;
      padding: 15px 30px;
      border-radius: 25px;
      cursor: pointer;
      font-weight: 600;
      font-size: 1em;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
      box-shadow: 0 4px 15px rgba(30, 255, 0, 0.3);
    }

    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(30, 255, 0, 0.4);
    }

    .nav-btn:disabled {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-muted);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .lesson-progress {
      color: var(--text-muted);
      font-size: 1em;
      text-align: center;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .lesson-container {
        padding: 10px;
        margin-top: 80px;
      }
      
      .lesson-title {
        font-size: 2em;
      }
      
      .lesson-meta {
        gap: 15px;
      }
      
      .lesson-content {
        padding: 25px;
      }
      
      .lesson-navigation {
        flex-direction: column;
        gap: 15px;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Matrix Background -->
  <div class="matrix-bg"></div>
  
  <!-- Code Rain Animation -->
  <div class="code-rain" id="codeRain"></div>

  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="logo" onclick="goToCourse()">
      <span class="logo-projet">PROJET</span><span class="logo-vnet">VNET</span>
    </div>
    
    <div class="nav-right">
      <button class="back-btn" onclick="goBack()" title="Go Back">
        <i class="fas fa-arrow-left"></i>
      </button>
      <div class="profile-picture" onclick="goToProfile()" title="Profile">
        <i class="fas fa-user"></i>
      </div>
    </div>
  </nav>

  <!-- Lesson Container -->
  <div class="lesson-container">
    <div class="lesson-header">
      <h1 class="lesson-title" id="lessonTitle">Lesson Title</h1>
      <div class="lesson-meta">
        <div class="lesson-info">
          <i class="fas fa-clock"></i>
          <span id="lessonDuration">Duration</span>
        </div>
        <div class="lesson-info">
          <i class="fas fa-book"></i>
          <span id="lessonNumber">Lesson X</span>
        </div>
        <div class="lesson-info">
          <i class="fas fa-layer-group"></i>
          <span id="lessonChapter">Chapter X</span>
        </div>
      </div>
    </div>

    <div class="lesson-content" id="lessonContent">
      <!-- Lesson content will be loaded here -->
    </div>

    <div class="lesson-navigation">
      <button class="nav-btn" id="prevBtn" onclick="previousLesson()" disabled>
        <i class="fas fa-arrow-left"></i>
        Previous
      </button>
      
      <div class="lesson-progress" id="lessonProgress">
        Reading Content
      </div>
      
      <button class="nav-btn" id="nextBtn" onclick="nextLesson()">
        Next
        <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>

  <script>
    let currentLesson = null;
    let currentCourse = null;
    let lessonData = {};
    let currentStep = 'content'; // 'content' or 'code'

    // Lesson content data
    const lessonContents = {
      html: {
        1: {
          title: "Introduction to HTML",
          duration: "35 min",
          chapter: 1,
          content: `
            <h2>What is HTML?</h2>
            <p>HTML (HyperText Markup Language) is the standard markup language for creating web pages. It's the foundation of every website you visit on the internet. Think of HTML as the skeleton of a web page - it provides the structure and organization for all content.</p>
            
            <h3>Understanding the Name:</h3>
            <ul>
              <li><strong>HyperText:</strong> Text that contains links to other documents or sections within the same document. This allows users to navigate between different parts of a website or to other websites entirely.</li>
              <li><strong>Markup Language:</strong> A system for annotating text to indicate how it should be displayed. HTML uses tags to mark up content, telling the browser how to structure and present information.</li>
            </ul>

            <h3>Key Concepts Deep Dive:</h3>
            <ul>
              <li><strong>Elements:</strong> The building blocks of HTML documents. Each element represents a different type of content (headings, paragraphs, images, etc.)</li>
              <li><strong>Tags:</strong> The markers that define where an element begins and ends. Most elements have opening and closing tags.</li>
              <li><strong>Attributes:</strong> Additional information about elements that modify their behavior or appearance. They always go in the opening tag.</li>
              <li><strong>Nesting:</strong> The practice of placing elements inside other elements to create a hierarchical structure.</li>
            </ul>

            <h3>Basic HTML Document Structure:</h3>
            <p>Every HTML document follows a specific structure that browsers expect:</p>
            <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Page Title&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello World!&lt;/h1&gt;
    &lt;p&gt;This is a paragraph of text.&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

            <h3>Document Structure Breakdown:</h3>
            <ul>
              <li><code>&lt;!DOCTYPE html&gt;</code> - Tells the browser this is an HTML5 document</li>
              <li><code>&lt;html&gt;</code> - The root element that contains all other elements</li>
              <li><code>&lt;head&gt;</code> - Contains metadata about the document (not visible to users)</li>
              <li><code>&lt;body&gt;</code> - Contains all visible content of the webpage</li>
            </ul>

            <h3>Essential HTML Tags for Beginners:</h3>
            <ul>
              <li><code>&lt;h1&gt;</code> to <code>&lt;h6&gt;</code> - Headings (h1 is largest, h6 is smallest)</li>
              <li><code>&lt;p&gt;</code> - Paragraphs for text content</li>
              <li><code>&lt;a&gt;</code> - Links to other pages or sections</li>
              <li><code>&lt;img&gt;</code> - Images (self-closing tag)</li>
              <li><code>&lt;div&gt;</code> - Generic container for grouping elements</li>
              <li><code>&lt;span&gt;</code> - Inline container for small text portions</li>
              <li><code>&lt;ul&gt;</code> and <code>&lt;ol&gt;</code> - Unordered and ordered lists</li>
              <li><code>&lt;li&gt;</code> - List items</li>
            </ul>

            <h3>HTML Best Practices:</h3>
            <ul>
              <li>Always use lowercase for tag names and attributes</li>
              <li>Quote all attribute values (use double quotes consistently)</li>
              <li>Include alt text for images for accessibility</li>
              <li>Use semantic HTML elements when possible</li>
              <li>Properly nest elements (close tags in reverse order of opening)</li>
              <li>Indent your code for better readability</li>
            </ul>

            <h3>Why HTML is Important:</h3>
            <p>HTML is the foundation of web development because it:</p>
            <ul>
              <li>Provides semantic structure that search engines understand</li>
              <li>Enables accessibility for screen readers and assistive technologies</li>
              <li>Works seamlessly with CSS for styling and JavaScript for interactivity</li>
              <li>Is the starting point for learning any web technology</li>
              <li>Is platform-independent and works on all devices and browsers</li>
            </ul>

            <h3>Common HTML Mistakes to Avoid:</h3>
            <ul>
              <li>Forgetting to close tags (except self-closing ones)</li>
              <li>Using uppercase letters in tag names</li>
              <li>Not including alt attributes for images</li>
              <li>Improper nesting of elements</li>
              <li>Missing the DOCTYPE declaration</li>
            </ul>

            <h3>Next Steps:</h3>
            <p>Now that you understand the basics of HTML, you're ready to create your first webpage! In the practice section, you'll build a complete HTML page from scratch, applying all the concepts you've learned.</p>
          `,
          question: "Create a complete HTML page with the following requirements:\n\n1. Use proper DOCTYPE and html structure\n2. Add a title 'My First Web Page' in the head section\n3. Include a main heading (h1) that says 'Welcome to HTML!'\n4. Add a paragraph explaining what you learned about HTML\n5. Create a list with 3 HTML tags you learned about\n6. Add proper indentation and comments\n\nMake sure to follow all the best practices we discussed!"
        },
        2: {
          title: "HTML Elements and Attributes",
          duration: "20 min",
          chapter: 1,
          content: `
            <h2>Understanding HTML Elements</h2>
            <p>HTML elements are the building blocks of web pages. They consist of opening tags, content, and closing tags.</p>

            <h3>Element Structure:</h3>
            <pre><code>&lt;tagname&gt;Content goes here&lt;/tagname&gt;</code></pre>

            <h3>Self-Closing Elements:</h3>
            <p>Some elements don't need closing tags:</p>
            <ul>
              <li><code>&lt;img&gt;</code> - Images</li>
              <li><code>&lt;br&gt;</code> - Line breaks</li>
              <li><code>&lt;hr&gt;</code> - Horizontal rules</li>
            </ul>

            <h3>HTML Attributes:</h3>
            <p>Attributes provide additional information about elements:</p>
            <pre><code>&lt;img src="image.jpg" alt="Description"&gt;
&lt;a href="https://example.com" target="_blank"&gt;Link&lt;/a&gt;</code></pre>

            <h3>Common Attributes:</h3>
            <ul>
              <li><code>id</code> - Unique identifier</li>
              <li><code>class</code> - CSS class name</li>
              <li><code>src</code> - Source URL (for images, scripts)</li>
              <li><code>href</code> - Link destination</li>
              <li><code>alt</code> - Alternative text</li>
            </ul>

            <h3>Best Practices:</h3>
            <ul>
              <li>Always use lowercase for tag names</li>
              <li>Quote attribute values</li>
              <li>Use meaningful attribute values</li>
              <li>Include alt text for images</li>
            </ul>
          `,
          question: "Create an image element with src='logo.png', alt='Company Logo', and a link to 'https://example.com' that opens in a new tab"
        }
      },
      javascript: {
        1: {
          title: "JavaScript Fundamentals",
          duration: "20 min",
          chapter: 1,
          content: `
            <h2>What is JavaScript?</h2>
            <p>JavaScript is a programming language that makes web pages interactive. It runs in the browser and can manipulate HTML and CSS.</p>

            <h3>Key Features:</h3>
            <ul>
              <li><strong>Dynamic:</strong> Can change content after page loads</li>
              <li><strong>Interactive:</strong> Responds to user actions</li>
              <li><strong>Versatile:</strong> Works on frontend and backend</li>
              <li><strong>Interpreted:</strong> Runs directly in the browser</li>
            </ul>

            <h3>Variables in JavaScript:</h3>
            <p>Variables store data that can be used later:</p>
            <pre><code>let name = "John";
const age = 25;
var city = "New York";</code></pre>

            <h3>Data Types:</h3>
            <ul>
              <li><code>string</code> - Text data</li>
              <li><code>number</code> - Numeric data</li>
              <li><code>boolean</code> - True or false</li>
              <li><code>array</code> - List of items</li>
              <li><code>object</code> - Collection of properties</li>
            </ul>

            <h3>Functions:</h3>
            <p>Functions are reusable blocks of code:</p>
            <pre><code>function greet(name) {
  return "Hello, " + name + "!";
}

console.log(greet("World"));</code></pre>
          `,
          question: "Create a function called 'addNumbers' that takes two parameters and returns their sum. Then call the function with numbers 5 and 3."
        }
      }
    };

    // Initialize lesson
    function initLesson() {
      const courseType = localStorage.getItem('currentCourse') || 'html';
      const lessonId = localStorage.getItem('currentLesson');
      
      currentCourse = courseType;
      currentLesson = parseInt(lessonId);
      
      if (!lessonContents[courseType] || !lessonContents[courseType][currentLesson]) {
        alert('Lesson not found!');
        goToCourse();
        return;
      }

      lessonData = lessonContents[courseType][currentLesson];
      
      // Update lesson header
      document.getElementById('lessonTitle').textContent = lessonData.title;
      document.getElementById('lessonDuration').textContent = lessonData.duration;
      document.getElementById('lessonNumber').textContent = `Lesson ${currentLesson}`;
      document.getElementById('lessonChapter').textContent = `Chapter ${lessonData.chapter}`;
      
      // Load lesson content
      loadLessonContent();
      
      // No code rain animation on lesson page
    }

    // Load lesson content
    function loadLessonContent() {
      document.getElementById('lessonContent').innerHTML = lessonData.content;
      document.getElementById('lessonProgress').textContent = 'Reading Content';
      currentStep = 'content';
    }

    // Next step
    function nextLesson() {
      if (currentStep === 'content') {
        // Move to code editor
        localStorage.setItem('currentLesson', currentLesson);
        localStorage.setItem('currentCourse', currentCourse);
        window.location.href = 'code-editor.html?mode=lesson';
      } else {
        // Complete lesson and go to next
        completeLesson();
      }
    }

    // Previous step
    function previousLesson() {
      if (currentLesson > 1) {
        currentLesson--;
        localStorage.setItem('currentLesson', currentLesson);
        initLesson();
      }
    }

    // Complete lesson
    function completeLesson() {
      const courseType = localStorage.getItem('currentCourse');
      const courseProgress = JSON.parse(localStorage.getItem(`courseProgress_${courseType}`) || '{}');
      courseProgress[currentLesson] = 'completed';
      
      // Unlock next lesson
      const nextLessonId = currentLesson + 1;
      if (courseProgress[nextLessonId] === 'locked' || !courseProgress[nextLessonId]) {
        courseProgress[nextLessonId] = 'available';
      }
      
      localStorage.setItem(`courseProgress_${courseType}`, JSON.stringify(courseProgress));
      
      // Go to next lesson or back to course
      if (nextLessonId <= 20) {
        currentLesson = nextLessonId;
        localStorage.setItem('currentLesson', currentLesson);
        initLesson();
      } else {
        goToCourse();
      }
    }

    // Navigation functions
    function goToCourse() {
      window.location.href = 'course.html';
    }

    function goToProfile() {
      window.location.href = 'profile.html';
    }

    function goBack() {
      window.history.back();
    }

    // Code Rain Animation
    function createCodeRain() {
      const codeRain = document.getElementById('codeRain');
      const characters = ['0', '1', '{}', '[]', '()', ';', '=', '!', '&', '|', '<', '>', '/', '\\', '*', '+', '-', '%', 'function', 'const', 'let', 'var', 'if', 'else', 'for', 'while', 'return', 'class', 'import', 'export'];
      
      function createDrop() {
        const drop = document.createElement('div');
        drop.className = 'code-drop';
        
        if (Math.random() < 0.3) {
          drop.classList.add('twinkle');
        }
        
        drop.textContent = characters[Math.floor(Math.random() * characters.length)];
        drop.style.left = Math.random() * 100 + '%';
        drop.style.animationDuration = (Math.random() * 4 + 3) + 's';
        drop.style.animationDelay = Math.random() * 1 + 's';
        drop.style.fontSize = (Math.random() * 8 + 12) + 'px';
        
        codeRain.appendChild(drop);
        
        setTimeout(() => {
          if (drop.parentNode) {
            drop.parentNode.removeChild(drop);
          }
        }, 7000);
      }
      
      setInterval(createDrop, 150);
      
      for (let i = 0; i < 20; i++) {
        setTimeout(createDrop, i * 100);
      }
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', initLesson);
  </script>
</body>
</html>
